@using Business.Areas.Admin.ViewModels.Product;
@model ProductDetailsVM;

@{
    ViewBag.Title = "Product Dashboard";
}
<div class="right_col" role="main">
    <div class="">
        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 ">
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered first mb-5">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Color</th>
                                        <th>Price</th>
                                        <th>Brand</th>
                                        <th>Create date</th>
                                        <th>Update date</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>@Model.Product.Id</td>
                                        <td>
                                            @{
                                                foreach (var item in Model.Product.Colors)
                                                {
                                                    <p>@item.Color.Title</p>
                                                }
                                            }
                                        </td>
                                        <td>@Model.Product.Price</td>
                                        <td>@Model.Product.Brand.Title</td>
                                        <td>@Model.Product.CreatedAt</td>
                                        <td>
                                            @{
                                                if (Model.Product.ModifiedAt.ToString() == "01.01.0001 00:00:00")
                                                {
                                                    <p>Non Modified</p>
                                                }
                                                else
                                                {
                                                    @Model.Product.ModifiedAt
                                                }
                                            }
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <table class="table table-striped table-bordered first mt-5">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Description</th>
                                        <th>Size</th>
                                        <th>Best Selling</th>
                                        <th>Gender</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>@Model.Product.Title</td>
                                        <td style="max-width:305px;">@Html.Raw(Model.Product.Description)</td>
                                        <td>
                                            @{
                                                foreach (var productSize in Model.Product.Sizes)
                                                {
                                                    <p>@productSize.Size.Title</p>
                                                }
                                            }
                                        </td>
                                        <td>@Model.Product.BestSelling</td>

                                        <td>@Model.Product.Gender</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="photos">
                            <div style="text-align: center;margin-top: 30px;">
                                <h3>Main Photo</h3>
                                <img style="width:200px;height:290px;object-fit:cover" class="img img-thumbnail" src="/assets/images/@Model.Product.MainPhoto" />
                            </div>
                            <div style="text-align: center;margin-top: 30px; display:flex;gap:30px;align-items:center;justify-content:center;flex-wrap:wrap">
                                <h3 style="width:100%;">Photos</h3>
                                @foreach (var photo in Model.Product.Photos)
                                {
                                    <div>
                                        <img style="width:200px;height:290px;object-fit:cover" class="img img-thumbnail" src="/assets/images/@photo.Name" />
                                        <p class="mt-3" style="text-align:center">Order:@photo.Order</p>
                                    </div>
                                }
                            </div>
                        </div>
                        <div class="mt-4">
                            <a asp-action="index" asp-controller="product" asp-area="admin" class="btn btn-sm btn-light">Cancel</a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
